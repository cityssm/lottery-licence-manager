window.llm={};llm.clearElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};llm.escapeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};llm.arrayToObject=function(a,c){for(var b={},d=0;d<a.length;d+=1)b[a[d][c]]=a[d];return b};
llm.initializeDateRangeSelector=function(a,c){var b=a.querySelector("[data-field='rangeType']").getElementsByTagName("select")[0],d=a.querySelector("[data-field='range']").getElementsByTagName("select")[0],e=d.querySelector("[data-range-type='']"),g=d.querySelector("[data-range-type='year']"),h=d.querySelector("[data-range-type='quarter']"),l=d.querySelector("[data-range-type='month']"),k=a.querySelector("[data-field='start']").getElementsByTagName("input")[0],f=a.querySelector("[data-field='end']").getElementsByTagName("input")[0],
m=function(){var a=d.value;if(""!==a){var b;b=a.split("-");if(1===b.length)a=b[0]+"-01-01",b=b[0]+"-12-31";else{if("q"===b[1])var e=3*(b[2]-1),a=b[0]+"-"+("0"+(e+1)).slice(-2)+"-01",e=new Date(b[0],e+3,0);else e=b[1]-1,a=b[0]+"-"+("0"+(e+1)).slice(-2)+"-01",e=new Date(b[0],e+1,0);b=b[0]+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getDate()}k.value=a;f.setAttribute("min",a);f.value=b;c&&c()}};b.addEventListener("change",function(){var c=b.value;""===c?(d.setAttribute("readonly","readonly"),d.classList.add("is-readonly"),
e.classList.remove("is-hidden"),g.classList.add("is-hidden"),h.classList.add("is-hidden"),l.classList.add("is-hidden"),d.value="",k.removeAttribute("readonly"),k.classList.remove("is-readonly"),f.removeAttribute("readonly"),f.classList.remove("is-readonly")):(d.removeAttribute("readonly"),d.classList.remove("is-readonly"),"year"===c?(g.classList.remove("is-hidden"),d.value=g.children[0].value):g.classList.add("is-hidden"),"quarter"===c?(h.classList.remove("is-hidden"),d.value=h.children[0].value):
h.classList.add("is-hidden"),"month"===c?(l.classList.remove("is-hidden"),d.value=l.children[0].value):l.classList.add("is-hidden"),e.classList.add("is-hidden"),k.setAttribute("readonly","readonly"),k.classList.add("is-readonly"),f.setAttribute("readonly","readonly"),f.classList.add("is-readonly"),m())});d.addEventListener("change",m);k.addEventListener("change",function(){f.setAttribute("min",k.value);c()});f.addEventListener("change",c)};
llm.dateToString=function(a){return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)};llm.responseToJSON=function(a){return a.json()};llm.postJSON=function(a,c,b){var d={method:"POST",credentials:"include"};c&&(c.tagName&&"FORM"===c.tagName?d.body=new URLSearchParams(new FormData(c)):c.constructor===Object&&(d.headers={"Content-Type":"application/json"},d.body=JSON.stringify(c)));window.fetch(a,d).then(llm.responseToJSON).then(b)};
llm.getDefaultConfigProperty=function(a,c){try{var b=window.localStorage.getItem("defaultConfigProperties");if(b){var d=JSON.parse(b);c(d[a]);return}}catch(e){}llm.postJSON("/dashboard/doGetDefaultConfigProperties",{},function(b){try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(b))}catch(g){}c(b[a])})};llm.showModal=function(a){a.classList.add("is-active")};llm.hideModal=function(a){a=a.currentTarget||a;(a.classList.contains("modal")?a:a.closest(".modal")).classList.remove("is-active")};
llm.openHtmlModal=function(a,c){window.fetch("/html/"+a+".html").then(function(c){return c.text()}).then(function(a){var d=document.createElement("div");d.innerHTML=a;var b=d.getElementsByClassName("modal")[0];document.body.insertAdjacentElement("beforeend",d);if(c&&c.onshow)c.onshow(b);b.classList.add("is-active");a=function(){var a=b.classList.contains("is-active");if(!(c&&c.onhide&&a&&c.onhide(b))){b.classList.remove("is-active");if(c&&c.onhidden&&a)c.onhidden(b);d.remove();if(c&&c.onremoved)c.onremoved()}};
if(c&&c.onshown)c.onshown(b,a);for(var g=b.getElementsByClassName("is-close-modal-button"),h=0;h<g.length;h+=1)g[h].addEventListener("click",a)})};
llm.initializeTabs=function(a,c){function b(a){a.preventDefault();var b=a.currentTarget;a=document.getElementById(b.getAttribute("href").substring(1));for(var f=0;f<e.length;f+=1)e[f].classList.remove("is-active"),g[f].setAttribute("aria-selected","false");(d?b:b.parentNode).classList.add("is-active");b.setAttribute("aria-selected","true");b=a.parentNode.getElementsByClassName("tab-content");for(f=0;f<b.length;f+=1)b[f].classList.remove("is-active");a.classList.add("is-active");if(c&&c.onshown)c.onshown(a)}
if(a)for(var d=a.classList.contains("panel-tabs")||a.classList.contains("menu-list"),e=a.getElementsByTagName(d?"a":"li"),g=d?e:a.getElementsByTagName("a"),h=0;h<e.length;h+=1)(d?e[h]:e[h].getElementsByTagName("a")[0]).addEventListener("click",b)};
(function(){function a(a){var b=document.createElement("div");b.className="modal is-active";var c=a.contextualColorName||"info",e=a.titleString||"",g=a.bodyHTML||"",h=a.cancelButtomHTML||"Cancel";b.innerHTML='<div class="modal-background"></div><div class="modal-card">'+('<header class="modal-card-head has-background-'+c+'"><h3 class="modal-card-title'+("warning"!==c?" has-text-white":"")+'"></h3></header>')+(""===g?"":'<section class="modal-card-body">'+g+"</section>")+('<footer class="modal-card-foot justify-flex-end">'+
(a.hideCancelButton?"":'<button class="button is-cancel-button" type="button" aria-label="Cancel">'+h+"</button>")+('<button class="button is-ok-button is-'+c+'" type="button" aria-label="OK">'+(a.okButtonHTML||"OK")+"</button>")+"</footer>")+"</div>";b.getElementsByClassName("modal-card-title")[0].innerText=e;a.hideCancelButton||b.getElementsByClassName("is-cancel-button")[0].addEventListener("click",function(){b.remove()});c=b.getElementsByClassName("is-ok-button")[0];c.addEventListener("click",
function(){b.remove();a.callbackFn&&a.callbackFn()});document.body.insertAdjacentElement("beforeend",b);c.focus()}llm.confirmModal=function(c,b,d,e,g){a({contextualColorName:e,titleString:c,bodyHTML:b,okButtonHTML:d,callbackFn:g})};llm.alertModal=function(c,b,d,e){a({contextualColorName:e,titleString:c,bodyHTML:b,hideCancelButton:!0,okButtonHTML:d})}})();
(function(){function a(a){return a.returnValue="You have unsaved changes that may be lost."}var c=!1;llm.enableNavBlocker=function(){c||(window.addEventListener("beforeunload",a),c=!0)};llm.disableNavBlocker=function(){c&&(window.removeEventListener("beforeunload",a),c=!1)}})();
(function(){var a=document.getElementById("is-sidemenu-collapse-button"),c=document.getElementById("is-sidemenu-collapsed"),b=document.getElementById("is-sidemenu-expand-button"),d=document.getElementById("is-sidemenu-expanded");a&&c&&b&&d&&(a.addEventListener("click",function(){d.classList.add("is-hidden");c.classList.remove("is-hidden")}),b.addEventListener("click",function(){c.classList.add("is-hidden");d.classList.remove("is-hidden")}))})();
(function(){function a(a){a.preventDefault();llm.confirmModal("Log Out?","<p>Are you sure you want to log out?</p>",'<span class="icon"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></span><span>Log Out</span>',"warning",function(){window.localStorage.clear();window.location.href="/logout"})}document.getElementById("navbar-burger--main").addEventListener("click",function(a){a.currentTarget.classList.toggle("is-active");document.getElementById("navbar-menu--main").classList.toggle("is-active")});
for(var c=document.getElementsByClassName("is-logout-button"),b=0;b<c.length;b+=1)c[b].addEventListener("click",a)})();
