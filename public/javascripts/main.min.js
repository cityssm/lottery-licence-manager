"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var llm={arrayToObject:function(e,t){for(var a={},s=0;s<e.length;s+=1)a[e[s][t]]=e[s];return a},initializeDateRangeSelector:function(e,t){var a=e.querySelector("[data-field='rangeType']").getElementsByTagName("select")[0],s=e.querySelector("[data-field='range']").getElementsByTagName("select")[0],i=s.querySelector("[data-range-type='']"),r=s.querySelector("[data-range-type='year']"),n=s.querySelector("[data-range-type='quarter']"),l=s.querySelector("[data-range-type='month']"),d=e.querySelector("[data-field='start']").getElementsByTagName("input")[0],o=e.querySelector("[data-field='end']").getElementsByTagName("input")[0],c=function(){var e=s.value;if(""!==e){var a="",i="",r=e.split("-");if(1===r.length)a=r[0]+"-01-01",i=r[0]+"-12-31";else if("q"===r[1]){var n=3*(parseInt(r[2],10)-1);a=r[0]+"-"+("0"+(n+1)).slice(-2)+"-01";var l=new Date(parseInt(r[0],10),n+3,0);i=r[0]+"-"+("0"+(l.getMonth()+1)).slice(-2)+"-"+l.getDate()}else{n=parseInt(r[1],10)-1;a=r[0]+"-"+("0"+(n+1)).slice(-2)+"-01";l=new Date(parseInt(r[0],10),n+1,0);i=r[0]+"-"+("0"+(l.getMonth()+1)).slice(-2)+"-"+l.getDate()}d.value=a,o.setAttribute("min",a),o.value=i,t&&t()}};a.addEventListener("change",function(){var e=a.value;""===e?(s.setAttribute("readonly","readonly"),s.classList.add("is-readonly"),i.classList.remove("is-hidden"),r.classList.add("is-hidden"),n.classList.add("is-hidden"),l.classList.add("is-hidden"),s.value="",d.removeAttribute("readonly"),d.classList.remove("is-readonly"),o.removeAttribute("readonly"),o.classList.remove("is-readonly")):(s.removeAttribute("readonly"),s.classList.remove("is-readonly"),"year"===e?(r.classList.remove("is-hidden"),s.value=r.children[0].value):r.classList.add("is-hidden"),"quarter"===e?(n.classList.remove("is-hidden"),s.value=n.children[0].value):n.classList.add("is-hidden"),"month"===e?(l.classList.remove("is-hidden"),s.value=l.children[0].value):l.classList.add("is-hidden"),i.classList.add("is-hidden"),d.setAttribute("readonly","readonly"),d.classList.add("is-readonly"),o.setAttribute("readonly","readonly"),o.classList.add("is-readonly"),c())}),s.addEventListener("change",c),d.addEventListener("change",function(){o.setAttribute("min",d.value),t()}),o.addEventListener("change",t)},getDefaultConfigProperty:function(e,t){try{var a=window.localStorage.getItem("defaultConfigProperties");if(a){var s=JSON.parse(a);return void t(s[e])}}catch(e){}cityssm.postJSON("/dashboard/doGetDefaultConfigProperties",{},function(a){try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(a))}catch(e){}t(a[e])})},initializeTabs:function(e,t){if(e)for(var a=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),s=e.getElementsByTagName(a?"a":"li"),i=a?s:e.getElementsByTagName("a"),r=0;r<s.length;r+=1)(a?s[r]:s[r].getElementsByTagName("a")[0]).addEventListener("click",n);function n(e){e.preventDefault();for(var r=e.currentTarget,n=document.getElementById(r.getAttribute("href").substring(1)),l=0;l<s.length;l+=1)s[l].classList.remove("is-active"),i[l].setAttribute("aria-selected","false");(a?r:r.parentElement).classList.add("is-active"),r.setAttribute("aria-selected","true");var d=n.parentElement.getElementsByClassName("tab-content");for(l=0;l<d.length;l+=1)d[l].classList.remove("is-active");n.classList.add("is-active"),t&&t.onshown&&t.onshown(n)}}};