window.llm={};llm.arrayToObject=function(a,g){for(var h={},b=0;b<a.length;b+=1)h[a[b][g]]=a[b];return h};
llm.initializeDateRangeSelector=function(a,g){var h=a.querySelector("[data-field='rangeType']").getElementsByTagName("select")[0],b=a.querySelector("[data-field='range']").getElementsByTagName("select")[0],c=b.querySelector("[data-range-type='']"),l=b.querySelector("[data-range-type='year']"),k=b.querySelector("[data-range-type='quarter']"),m=b.querySelector("[data-range-type='month']"),e=a.querySelector("[data-field='start']").getElementsByTagName("input")[0],d=a.querySelector("[data-field='end']").getElementsByTagName("input")[0],
n=function(){var a=b.value;if(""!==a){var f;f=a.split("-");if(1===f.length)a=f[0]+"-01-01",f=f[0]+"-12-31";else{if("q"===f[1])var c=3*(f[2]-1),a=f[0]+"-"+("0"+(c+1)).slice(-2)+"-01",c=new Date(f[0],c+3,0);else c=f[1]-1,a=f[0]+"-"+("0"+(c+1)).slice(-2)+"-01",c=new Date(f[0],c+1,0);f=f[0]+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+c.getDate()}e.value=a;d.setAttribute("min",a);d.value=f;g&&g()}};h.addEventListener("change",function(){var a=h.value;""===a?(b.setAttribute("readonly","readonly"),b.classList.add("is-readonly"),
c.classList.remove("is-hidden"),l.classList.add("is-hidden"),k.classList.add("is-hidden"),m.classList.add("is-hidden"),b.value="",e.removeAttribute("readonly"),e.classList.remove("is-readonly"),d.removeAttribute("readonly"),d.classList.remove("is-readonly")):(b.removeAttribute("readonly"),b.classList.remove("is-readonly"),"year"===a?(l.classList.remove("is-hidden"),b.value=l.children[0].value):l.classList.add("is-hidden"),"quarter"===a?(k.classList.remove("is-hidden"),b.value=k.children[0].value):
k.classList.add("is-hidden"),"month"===a?(m.classList.remove("is-hidden"),b.value=m.children[0].value):m.classList.add("is-hidden"),c.classList.add("is-hidden"),e.setAttribute("readonly","readonly"),e.classList.add("is-readonly"),d.setAttribute("readonly","readonly"),d.classList.add("is-readonly"),n())});b.addEventListener("change",n);e.addEventListener("change",function(){d.setAttribute("min",e.value);g()});d.addEventListener("change",g)};
llm.getDefaultConfigProperty=function(a,g){try{var h=window.localStorage.getItem("defaultConfigProperties");if(h){var b=JSON.parse(h);g(b[a]);return}}catch(c){}cityssm.postJSON("/dashboard/doGetDefaultConfigProperties",{},function(b){try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(b))}catch(l){}g(b[a])})};
llm.initializeTabs=function(a,g){function h(a){a.preventDefault();var e=a.currentTarget;a=document.getElementById(e.getAttribute("href").substring(1));for(var d=0;d<c.length;d+=1)c[d].classList.remove("is-active"),l[d].setAttribute("aria-selected","false");(b?e:e.parentNode).classList.add("is-active");e.setAttribute("aria-selected","true");e=a.parentNode.getElementsByClassName("tab-content");for(d=0;d<e.length;d+=1)e[d].classList.remove("is-active");a.classList.add("is-active");if(g&&g.onshown)g.onshown(a)}
if(a)for(var b=a.classList.contains("panel-tabs")||a.classList.contains("menu-list"),c=a.getElementsByTagName(b?"a":"li"),l=b?c:a.getElementsByTagName("a"),k=0;k<c.length;k+=1)(b?c[k]:c[k].getElementsByTagName("a")[0]).addEventListener("click",h)};
