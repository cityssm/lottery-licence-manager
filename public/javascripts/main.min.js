window.llm={};llm.clearElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};llm.escapeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};llm.arrayToObject=function(a,d){for(var f={},b=0;b<a.length;b+=1)f[a[b][d]]=a[b];return f};
llm.initializeDateRangeSelector=function(a,d){var f=a.querySelector("[data-field='rangeType']").getElementsByTagName("select")[0],b=a.querySelector("[data-field='range']").getElementsByTagName("select")[0],e=b.querySelector("[data-range-type='']"),h=b.querySelector("[data-range-type='year']"),c=b.querySelector("[data-range-type='quarter']"),g=b.querySelector("[data-range-type='month']"),l=a.querySelector("[data-field='start']").getElementsByTagName("input")[0],k=a.querySelector("[data-field='end']").getElementsByTagName("input")[0],
m=function(){var a=b.value;if(""!==a){var c;c=a.split("-");if(1===c.length)a=c[0]+"-01-01",c=c[0]+"-12-31";else{if("q"===c[1])var g=3*(c[2]-1),a=c[0]+"-"+("0"+(g+1)).slice(-2)+"-01",g=new Date(c[0],g+3,0);else g=c[1]-1,a=c[0]+"-"+("0"+(g+1)).slice(-2)+"-01",g=new Date(c[0],g+1,0);c=c[0]+"-"+("0"+(g.getMonth()+1)).slice(-2)+"-"+g.getDate()}l.value=a;k.setAttribute("min",a);k.value=c;d&&d()}};f.addEventListener("change",function(){var a=f.value;""===a?(b.setAttribute("readonly","readonly"),b.classList.add("is-readonly"),
e.classList.remove("is-hidden"),h.classList.add("is-hidden"),c.classList.add("is-hidden"),g.classList.add("is-hidden"),b.value="",l.removeAttribute("readonly"),l.classList.remove("is-readonly"),k.removeAttribute("readonly"),k.classList.remove("is-readonly")):(b.removeAttribute("readonly"),b.classList.remove("is-readonly"),"year"===a?(h.classList.remove("is-hidden"),b.value=h.children[0].value):h.classList.add("is-hidden"),"quarter"===a?(c.classList.remove("is-hidden"),b.value=c.children[0].value):
c.classList.add("is-hidden"),"month"===a?(g.classList.remove("is-hidden"),b.value=g.children[0].value):g.classList.add("is-hidden"),e.classList.add("is-hidden"),l.setAttribute("readonly","readonly"),l.classList.add("is-readonly"),k.setAttribute("readonly","readonly"),k.classList.add("is-readonly"),m())});b.addEventListener("change",m);l.addEventListener("change",function(){k.setAttribute("min",l.value);d()});k.addEventListener("change",d)};
llm.dateToString=function(a){return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)};llm.responseToJSON=function(a){return a.json()};llm.postJSON=function(a,d,f){var b={method:"POST",credentials:"include"};d&&(d.tagName&&"FORM"===d.tagName?b.body=new URLSearchParams(new FormData(d)):d.constructor===Object&&(b.headers={"Content-Type":"application/json"},b.body=JSON.stringify(d)));window.fetch(a,b).then(llm.responseToJSON).then(f)};
llm.getDefaultConfigProperty=function(a,d){try{var f=window.localStorage.getItem("defaultConfigProperties");if(f){var b=JSON.parse(f);d(b[a]);return}}catch(e){}llm.postJSON("/dashboard/doGetDefaultConfigProperties",{},function(b){try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(b))}catch(h){}d(b[a])})};llm.showModal=function(a){a.classList.add("is-active")};llm.hideModal=function(a){a=a.currentTarget||a;(a.classList.contains("modal")?a:a.closest(".modal")).classList.remove("is-active")};
llm.openHtmlModal=function(a,d){window.fetch("/html/"+a+".html").then(function(a){return a.text()}).then(function(a){var b=document.createElement("div");b.innerHTML=a;var e=b.getElementsByClassName("modal")[0];document.body.insertAdjacentElement("beforeend",b);if(d&&d.onshow)d.onshow(e);e.classList.add("is-active");a=function(){var a=e.classList.contains("is-active");if(!(d&&d.onhide&&a&&d.onhide(e))){e.classList.remove("is-active");if(d&&d.onhidden&&a)d.onhidden(e);b.remove();if(d&&d.onremoved)d.onremoved()}};
if(d&&d.onshown)d.onshown(e,a);for(var f=e.getElementsByClassName("is-close-modal-button"),c=0;c<f.length;c+=1)f[c].addEventListener("click",a)})};
llm.initializeTabs=function(a,d){function f(a){a.preventDefault();var c=a.currentTarget;a=document.getElementById(c.getAttribute("href").substring(1));for(var g=0;g<e.length;g+=1)e[g].classList.remove("is-active"),h[g].setAttribute("aria-selected","false");(b?c:c.parentNode).classList.add("is-active");c.setAttribute("aria-selected","true");c=a.parentNode.getElementsByClassName("tab-content");for(g=0;g<c.length;g+=1)c[g].classList.remove("is-active");a.classList.add("is-active");if(d&&d.onshown)d.onshown(a)}
if(a)for(var b=a.classList.contains("panel-tabs")||a.classList.contains("menu-list"),e=a.getElementsByTagName(b?"a":"li"),h=b?e:a.getElementsByTagName("a"),c=0;c<e.length;c+=1)(b?e[c]:e[c].getElementsByTagName("a")[0]).addEventListener("click",f)};
(function(){function a(a){var c=document.createElement("div");c.className="modal is-active";var b=a.contextualColorName||"info",d=a.titleString||"",e=a.bodyHTML||"",f=a.cancelButtomHTML||"Cancel";c.innerHTML='<div class="modal-background"></div><div class="modal-card">'+('<header class="modal-card-head has-background-'+b+'"><h3 class="modal-card-title'+("warning"!==b?" has-text-white":"")+'"></h3></header>')+(""===e?"":'<section class="modal-card-body">'+e+"</section>")+('<footer class="modal-card-foot justify-flex-end">'+
(a.hideCancelButton?"":'<button class="button is-cancel-button" type="button" aria-label="Cancel">'+f+"</button>")+('<button class="button is-ok-button is-'+b+'" type="button" aria-label="OK">'+(a.okButtonHTML||"OK")+"</button>")+"</footer>")+"</div>";c.getElementsByClassName("modal-card-title")[0].innerText=d;a.hideCancelButton||c.getElementsByClassName("is-cancel-button")[0].addEventListener("click",function(){c.remove()});b=c.getElementsByClassName("is-ok-button")[0];b.addEventListener("click",
function(){c.remove();a.callbackFn&&a.callbackFn()});document.body.insertAdjacentElement("beforeend",c);b.focus()}function d(a){return a.returnValue="You have unsaved changes that may be lost."}function f(a){a.preventDefault();llm.confirmModal("Log Out?","<p>Are you sure you want to log out?</p>",'<span class="icon"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></span><span>Log Out</span>',"warning",function(){window.localStorage.clear();window.location.href="/logout"})}llm.confirmModal=function(c,
b,d,e,f){a({contextualColorName:e,titleString:c,bodyHTML:b,okButtonHTML:d,callbackFn:f})};llm.alertModal=function(b,d,e,f){a({contextualColorName:f,titleString:b,bodyHTML:d,hideCancelButton:!0,okButtonHTML:e})};var b=!1;llm.enableNavBlocker=function(){b||(window.addEventListener("beforeunload",d),b=!0)};llm.disableNavBlocker=function(){b&&(window.removeEventListener("beforeunload",d),b=!1)};document.getElementById("navbar-burger--main").addEventListener("click",function(a){a.currentTarget.classList.toggle("is-active");
document.getElementById("navbar-menu--main").classList.toggle("is-active")});for(var e=document.getElementsByClassName("is-logout-button"),h=0;h<e.length;h+=1)e[h].addEventListener("click",f)})();
