"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const llm={arrayToObject:(e,t)=>{const s={};for(const a of e)s[a[t]]=a;return s},initializeDateRangeSelector:(e,t)=>{const s=e.querySelector("[data-field='rangeType']").getElementsByTagName("select")[0],a=e.querySelector("[data-field='range']").getElementsByTagName("select")[0],n=a.querySelector("[data-range-type='']"),i=a.querySelector("[data-range-type='year']"),r=a.querySelector("[data-range-type='quarter']"),l=a.querySelector("[data-range-type='month']"),d=e.querySelector("[data-field='start']").getElementsByTagName("input")[0],o=e.querySelector("[data-field='end']").getElementsByTagName("input")[0],c=()=>{const e=a.value;if(""===e)return;let s="",n="";const i=e.split("-");if(1===i.length)s=i[0]+"-01-01",n=i[0]+"-12-31";else if("q"===i[1]){const e=3*(parseInt(i[2],10)-1);s=i[0]+"-"+("0"+(e+1)).slice(-2)+"-01";const t=new Date(parseInt(i[0],10),e+3,0);n=i[0]+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getDate()}else{const e=parseInt(i[1],10)-1;s=i[0]+"-"+("0"+(e+1)).slice(-2)+"-01";const t=new Date(parseInt(i[0],10),e+1,0);n=i[0]+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getDate()}d.value=s,o.setAttribute("min",s),o.value=n,t&&t()};s.addEventListener("change",()=>{const e=s.value;""===e?(a.setAttribute("readonly","readonly"),a.classList.add("is-readonly"),n.classList.remove("is-hidden"),i.classList.add("is-hidden"),r.classList.add("is-hidden"),l.classList.add("is-hidden"),a.value="",d.removeAttribute("readonly"),d.classList.remove("is-readonly"),o.removeAttribute("readonly"),o.classList.remove("is-readonly")):(a.removeAttribute("readonly"),a.classList.remove("is-readonly"),"year"===e?(i.classList.remove("is-hidden"),a.value=i.children[0].value):i.classList.add("is-hidden"),"quarter"===e?(r.classList.remove("is-hidden"),a.value=r.children[0].value):r.classList.add("is-hidden"),"month"===e?(l.classList.remove("is-hidden"),a.value=l.children[0].value):l.classList.add("is-hidden"),n.classList.add("is-hidden"),d.setAttribute("readonly","readonly"),d.classList.add("is-readonly"),o.setAttribute("readonly","readonly"),o.classList.add("is-readonly"),c())}),a.addEventListener("change",c),d.addEventListener("change",()=>{o.setAttribute("min",d.value),t()}),o.addEventListener("change",t)},getDefaultConfigProperty:(e,t)=>{try{const s=window.localStorage.getItem("defaultConfigProperties");if(s){const a=JSON.parse(s);return void t(a[e])}}catch(e){}cityssm.postJSON("/dashboard/doGetDefaultConfigProperties",{},s=>{try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(s))}catch(e){}t(s[e])})},initializeTabs:(e,t)=>{if(!e)return;const s=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),a=e.getElementsByTagName(s?"a":"li"),n=s?a:e.getElementsByTagName("a"),i=e=>{e.preventDefault();const i=e.currentTarget,r=document.getElementById(i.getAttribute("href").substring(1));for(let e=0;e<a.length;e+=1)a[e].classList.remove("is-active"),n[e].setAttribute("aria-selected","false");(s?i:i.parentElement).classList.add("is-active"),i.setAttribute("aria-selected","true");const l=r.parentElement.getElementsByClassName("tab-content");for(const e of l)e.classList.remove("is-active");r.classList.add("is-active"),t&&t.onshown&&t.onshown(r)};for(const e of a)(s?e:e.getElementsByTagName("a")[0]).addEventListener("click",i)}};