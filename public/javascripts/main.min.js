"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const llm={arrayToObject:(e,t)=>{const l={};for(const s of e)l[s[t]]=s;return l},formatDollarsAsHTML:e=>e<0?`<span class="has-text-danger">($${(-1*e).toFixed(2)})</span>`:"$"+e.toFixed(2),initializeDateRangeSelector:(e,t)=>{var l,s,a,r;const i=null===(l=e.querySelector("[data-field='rangeType']"))||void 0===l?void 0:l.querySelector("select"),n=null===(s=e.querySelector("[data-field='range']"))||void 0===s?void 0:s.querySelector("select"),o=null==n?void 0:n.querySelector("[data-range-type='']"),d=null==n?void 0:n.querySelector("[data-range-type='year']"),c=null==n?void 0:n.querySelector("[data-range-type='quarter']"),u=null==n?void 0:n.querySelector("[data-range-type='month']"),v=null===(a=e.querySelector("[data-field='start']"))||void 0===a?void 0:a.querySelector("input"),y=null===(r=e.querySelector("[data-field='end']"))||void 0===r?void 0:r.querySelector("input"),g=()=>{const e=n.value;if(""===e)return;let l="",s="";const a=e.split("-");if(1===a.length)l=`${a[0]}-01-01`,s=`${a[0]}-12-31`;else if("q"===a[1]){const e=3*(Number.parseInt(a[2],10)-1);l=a[0]+"-"+("0"+(e+1).toString()).slice(-2)+"-01";const t=new Date(Number.parseInt(a[0],10),e+3,0);s=a[0]+"-"+("0"+(t.getMonth()+1).toString()).slice(-2)+"-"+t.getDate().toString()}else{const e=Number.parseInt(a[1],10)-1;l=a[0]+"-"+("0"+(e+1).toString()).slice(-2)+"-01";const t=new Date(Number.parseInt(a[0],10),e+1,0);s=a[0]+"-"+("0"+(t.getMonth()+1).toString()).slice(-2)+"-"+t.getDate().toString()}v.value=l,y.setAttribute("min",l),y.value=s,t&&t()};null==i||i.addEventListener("change",()=>{const e=i.value;""===e?(null==n||n.setAttribute("readonly","readonly"),null==n||n.classList.add("is-readonly"),null==o||o.classList.remove("is-hidden"),d.classList.add("is-hidden"),c.classList.add("is-hidden"),u.classList.add("is-hidden"),n.value="",null==v||v.removeAttribute("readonly"),null==v||v.classList.remove("is-readonly"),null==y||y.removeAttribute("readonly"),null==y||y.classList.remove("is-readonly")):(null==n||n.removeAttribute("readonly"),null==n||n.classList.remove("is-readonly"),"year"===e?(d.classList.remove("is-hidden"),n.value=d.children[0].value):d.classList.add("is-hidden"),"quarter"===e?(c.classList.remove("is-hidden"),n.value=c.children[0].value):c.classList.add("is-hidden"),"month"===e?(u.classList.remove("is-hidden"),n.value=u.children[0].value):u.classList.add("is-hidden"),o.classList.add("is-hidden"),v.setAttribute("readonly","readonly"),v.classList.add("is-readonly"),y.setAttribute("readonly","readonly"),y.classList.add("is-readonly"),g())}),null==n||n.addEventListener("change",g),null==v||v.addEventListener("change",()=>{null==y||y.setAttribute("min",v.value),t()}),null==y||y.addEventListener("change",t)},getDefaultConfigProperty:(e,t)=>{var l;try{const l=globalThis.localStorage.getItem("defaultConfigProperties");if(l){const s=JSON.parse(l);return void t(s[e])}}catch(e){}const s=null===(l=document.querySelector("main"))||void 0===l?void 0:l.dataset.urlPrefix;cityssm.postJSON(`${s}/dashboard/doGetDefaultConfigProperties`,{},l=>{try{globalThis.localStorage.setItem("defaultConfigProperties",JSON.stringify(l))}catch(e){}t(l[e])})},initializeTabs:(e,t)=>{var l;if(!e)return;const s=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),a=e.querySelectorAll(s?"a":"li"),r=s?a:e.querySelectorAll("a"),i=e=>{var l;e.preventDefault();const i=e.currentTarget,n=document.querySelector(i.getAttribute("href"));for(const[e,t]of a.entries())t.classList.remove("is-active"),r[e].setAttribute("aria-selected","false");(s?i:i.parentElement).classList.add("is-active"),i.setAttribute("aria-selected","true");const o=null===(l=n.parentElement)||void 0===l?void 0:l.querySelectorAll(".tab-content");for(const e of o)e.classList.remove("is-active");n.classList.add("is-active"),(null==t?void 0:t.onshown)&&t.onshown(n)};for(const e of a)null===(l=s?e:e.querySelector("a"))||void 0===l||l.addEventListener("click",i)}};