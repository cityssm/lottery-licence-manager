"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e={arrayToObject:function(e,t){const l={};for(const s of e)l[s[t]]=s;return l},formatDollarsAsHTML:function(e){return e<0?`<span class="has-text-danger">($${(-1*e).toFixed(2)})</span>`:"$"+e.toFixed(2)},getDefaultConfigProperty:function(e,t){var l;try{const l=globalThis.localStorage.getItem("defaultConfigProperties");if(l){const s=JSON.parse(l);return void t(s[e])}}catch(e){}const s=null===(l=document.querySelector("main"))||void 0===l?void 0:l.dataset.urlPrefix;cityssm.postJSON(`${s}/dashboard/doGetDefaultConfigProperties`,{},l=>{try{globalThis.localStorage.setItem("defaultConfigProperties",JSON.stringify(l))}catch(e){}t(l[e])})},initializeDateRangeSelector:function(e,t){var l,s,n,a;const r=null===(l=e.querySelector("[data-field='rangeType']"))||void 0===l?void 0:l.querySelector("select"),i=null===(s=e.querySelector("[data-field='range']"))||void 0===s?void 0:s.querySelector("select"),o=null==i?void 0:i.querySelector("[data-range-type='']"),d=null==i?void 0:i.querySelector("[data-range-type='year']"),c=null==i?void 0:i.querySelector("[data-range-type='quarter']"),u=null==i?void 0:i.querySelector("[data-range-type='month']"),v=null===(n=e.querySelector("[data-field='start']"))||void 0===n?void 0:n.querySelector("input"),y=null===(a=e.querySelector("[data-field='end']"))||void 0===a?void 0:a.querySelector("input"),f=()=>{const e=i.value;if(""===e)return;let l="",s="";const n=e.split("-");if(1===n.length)l=`${n[0]}-01-01`,s=`${n[0]}-12-31`;else if("q"===n[1]){const e=3*(Number.parseInt(n[2],10)-1);l=n[0]+"-"+("0"+(e+1).toString()).slice(-2)+"-01";const t=new Date(Number.parseInt(n[0],10),e+3,0);s=n[0]+"-"+("0"+(t.getMonth()+1).toString()).slice(-2)+"-"+t.getDate().toString()}else{const e=Number.parseInt(n[1],10)-1;l=n[0]+"-"+("0"+(e+1).toString()).slice(-2)+"-01";const t=new Date(Number.parseInt(n[0],10),e+1,0);s=n[0]+"-"+("0"+(t.getMonth()+1).toString()).slice(-2)+"-"+t.getDate().toString()}v.value=l,y.setAttribute("min",l),y.value=s,t&&t()};null==r||r.addEventListener("change",()=>{const e=r.value;""===e?(null==i||i.setAttribute("readonly","readonly"),null==i||i.classList.add("is-readonly"),null==o||o.classList.remove("is-hidden"),d.classList.add("is-hidden"),c.classList.add("is-hidden"),u.classList.add("is-hidden"),i.value="",null==v||v.removeAttribute("readonly"),null==v||v.classList.remove("is-readonly"),null==y||y.removeAttribute("readonly"),null==y||y.classList.remove("is-readonly")):(null==i||i.removeAttribute("readonly"),null==i||i.classList.remove("is-readonly"),"year"===e?(d.classList.remove("is-hidden"),i.value=d.children[0].value):d.classList.add("is-hidden"),"quarter"===e?(c.classList.remove("is-hidden"),i.value=c.children[0].value):c.classList.add("is-hidden"),"month"===e?(u.classList.remove("is-hidden"),i.value=u.children[0].value):u.classList.add("is-hidden"),o.classList.add("is-hidden"),v.setAttribute("readonly","readonly"),v.classList.add("is-readonly"),y.setAttribute("readonly","readonly"),y.classList.add("is-readonly"),f())}),null==i||i.addEventListener("change",f),null==v||v.addEventListener("change",()=>{null==y||y.setAttribute("min",v.value),t()}),null==y||y.addEventListener("change",t)},initializeTabs:function(e,t){var l;if(!e)return;const s=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),n=e.querySelectorAll(s?"a":"li"),a=s?n:e.querySelectorAll("a"),r=e=>{var l;e.preventDefault();const r=e.currentTarget,i=document.querySelector(r.getAttribute("href"));for(const[e,t]of n.entries())t.classList.remove("is-active"),a[e].setAttribute("aria-selected","false");(s?r:r.parentElement).classList.add("is-active"),r.setAttribute("aria-selected","true");const o=null===(l=i.parentElement)||void 0===l?void 0:l.querySelectorAll(".tab-content");for(const e of o)e.classList.remove("is-active");i.classList.add("is-active"),(null==t?void 0:t.onshown)&&t.onshown(i)};for(const e of n)null===(l=s?e:e.querySelector("a"))||void 0===l||l.addEventListener("click",r)}};globalThis.llm=e})();