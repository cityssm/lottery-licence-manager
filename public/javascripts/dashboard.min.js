"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=document.getElementsByTagName("main")[0].getAttribute("data-url-prefix"),t=document.getElementById("is-change-password-modal");if(t){t.getElementsByTagName("form")[0].addEventListener("submit",s=>{s.preventDefault();const a=s.currentTarget;cityssm.postJSON(e+"/dashboard/doChangePassword",a,e=>{e.success&&(cityssm.hideModal(t),cityssm.alertModal("Password Updated Successfully","","OK","success"))})}),document.getElementsByClassName("is-change-password-button")[0].addEventListener("click",()=>{t.getElementsByTagName("form")[0].reset(),cityssm.showModal(t),document.getElementById("changePassword--oldPassword").focus()});const s=e=>{const t=e.currentTarget.closest(".field").getElementsByClassName("input")[0];t.setAttribute("type","text"===t.getAttribute("type")?"password":"text")},a=t.getElementsByClassName("is-toggle-visibility-button");for(const e of a)e.addEventListener("click",s);const o=t.getElementsByClassName("is-cancel-button");for(const e of o)e.addEventListener("click",cityssm.hideModal)}})();