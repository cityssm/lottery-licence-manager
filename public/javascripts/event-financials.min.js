"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){const e=document.getElementById("form--financialSummary"),t=document.getElementById("table--financialSummary"),n=t.getElementsByTagName("tbody")[0],o=t.getElementsByTagName("tfoot")[0];function s(e){return e<0?'<span class="has-text-danger">($'+(-1*e).toFixed(2)+")</span>":"$"+e.toFixed(2)}function a(){t.classList.remove("has-status-view"),t.classList.add("has-status-loading"),cityssm.postJSON("/events/doGetFinancialSummary",e,function(e){const a=n.children;for(const e of a)e.classList.add("is-hidden");let r=0,i=0,d=0,c=0,u=0,l=0,m=0,S=0,y=0;for(const t of e){const e=n.querySelector("tr[data-licence-type-key='"+t.licenceTypeKey+"']");e.querySelector("[data-field='licenceCount']").innerText=t.licenceCount,r+=t.licenceCount,e.querySelector("[data-field='eventCount']").innerHTML=(t.reportDateCount===t.eventCount?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+t.reportDateCount+"/"+t.eventCount+(t.reportDateCount===t.eventCount?"":"</span>"),d+=t.reportDateCount,i+=t.eventCount,e.querySelector("[data-field='costs_receiptsSum']").innerText="$"+t.costs_receiptsSum.toFixed(2),c+=t.costs_receiptsSum,e.querySelector("[data-field='costs_adminSum']").innerText="$"+t.costs_adminSum.toFixed(2),u+=t.costs_adminSum,e.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+t.costs_prizesAwardedSum.toFixed(2),l+=t.costs_prizesAwardedSum,e.querySelector("[data-field='costs_netProceedsSum']").innerHTML=s(t.costs_netProceedsSum),m+=t.costs_netProceedsSum,e.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+t.costs_amountDonatedSum.toFixed(2),S+=t.costs_amountDonatedSum,e.querySelector("[data-field='licenceFeeSum']").innerText="$"+t.licenceFeeSum.toFixed(2),y+=t.licenceFeeSum,e.classList.remove("is-hidden")}o.querySelector("[data-field='licenceCount']").innerText=r.toString(),o.querySelector("[data-field='eventCount']").innerHTML=(d===i?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+d+"/"+i+(d===i?"":"</span>"),o.querySelector("[data-field='costs_receiptsSum']").innerText="$"+c.toFixed(2),o.querySelector("[data-field='costs_adminSum']").innerText="$"+u.toFixed(2),o.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+l.toFixed(2),o.querySelector("[data-field='costs_netProceedsSum']").innerHTML=s(m),o.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+S.toFixed(2),o.querySelector("[data-field='licenceFeeSum']").innerText="$"+y.toFixed(2),t.classList.remove("has-status-loading"),t.classList.add("has-status-view")})}llm.initializeDateRangeSelector(document.querySelector(".is-date-range-selector[data-field-key='eventDate']"),a),a()}();