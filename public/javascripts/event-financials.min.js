"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=document.getElementById("form--financialSummary"),t=document.getElementById("table--financialSummary"),n=t.getElementsByTagName("tbody")[0],a=t.getElementsByTagName("tfoot")[0];function s(e){return e<0?'<span class="has-text-danger">($'+(-1*e).toFixed(2)+")</span>":"$"+e.toFixed(2)}function o(){t.classList.remove("has-status-view"),t.classList.add("has-status-loading"),cityssm.postJSON("/events/doGetFinancialSummary",e,function(e){for(var o=n.children,r=0;r<o.length;r+=1)o[r].classList.add("is-hidden");for(var i=0,d=0,c=0,u=0,l=0,m=0,S=0,y=0,f=0,x=0;x<e.length;x+=1){var p=e[x],_=n.querySelector("tr[data-licence-type-key='"+p.licenceTypeKey+"']");_.querySelector("[data-field='licenceCount']").innerText=p.licenceCount,i+=p.licenceCount,_.querySelector("[data-field='eventCount']").innerHTML=(p.reportDateCount===p.eventCount?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+p.reportDateCount+"/"+p.eventCount+(p.reportDateCount===p.eventCount?"":"</span>"),c+=p.reportDateCount,d+=p.eventCount,_.querySelector("[data-field='costs_receiptsSum']").innerText="$"+p.costs_receiptsSum.toFixed(2),u+=p.costs_receiptsSum,_.querySelector("[data-field='costs_adminSum']").innerText="$"+p.costs_adminSum.toFixed(2),l+=p.costs_adminSum,_.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+p.costs_prizesAwardedSum.toFixed(2),m+=p.costs_prizesAwardedSum,_.querySelector("[data-field='costs_netProceedsSum']").innerHTML=s(p.costs_netProceedsSum),S+=p.costs_netProceedsSum,_.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+p.costs_amountDonatedSum.toFixed(2),y+=p.costs_amountDonatedSum,_.querySelector("[data-field='licenceFeeSum']").innerText="$"+p.licenceFeeSum.toFixed(2),f+=p.licenceFeeSum,_.classList.remove("is-hidden")}a.querySelector("[data-field='licenceCount']").innerText=i.toString(),a.querySelector("[data-field='eventCount']").innerHTML=(c===d?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+c+"/"+d+(c===d?"":"</span>"),a.querySelector("[data-field='costs_receiptsSum']").innerText="$"+u.toFixed(2),a.querySelector("[data-field='costs_adminSum']").innerText="$"+l.toFixed(2),a.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+m.toFixed(2),a.querySelector("[data-field='costs_netProceedsSum']").innerHTML=s(S),a.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+y.toFixed(2),a.querySelector("[data-field='licenceFeeSum']").innerText="$"+f.toFixed(2),t.classList.remove("has-status-loading"),t.classList.add("has-status-view")})}llm.initializeDateRangeSelector(document.querySelector(".is-date-range-selector[data-field-key='eventDate']"),o),o()}();