"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){const e=document.getElementById("form--financialSummary"),t=document.getElementById("table--financialSummary"),n=t.getElementsByTagName("tbody")[0],s=t.getElementsByTagName("tfoot")[0];function a(e){return e<0?'<span class="has-text-danger">($'+(-1*e).toFixed(2)+")</span>":"$"+e.toFixed(2)}function o(){t.classList.remove("has-status-view"),t.classList.add("has-status-loading"),cityssm.postJSON("/events/doGetFinancialSummary",e,function(e){const o=n.children;for(let e=0;e<o.length;e+=1)o[e].classList.add("is-hidden");let r=0,i=0,d=0,c=0,l=0,u=0,m=0,S=0,y=0;for(let t=0;t<e.length;t+=1){const s=e[t],o=n.querySelector("tr[data-licence-type-key='"+s.licenceTypeKey+"']");o.querySelector("[data-field='licenceCount']").innerText=s.licenceCount,r+=s.licenceCount,o.querySelector("[data-field='eventCount']").innerHTML=(s.reportDateCount===s.eventCount?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+s.reportDateCount+"/"+s.eventCount+(s.reportDateCount===s.eventCount?"":"</span>"),d+=s.reportDateCount,i+=s.eventCount,o.querySelector("[data-field='costs_receiptsSum']").innerText="$"+s.costs_receiptsSum.toFixed(2),c+=s.costs_receiptsSum,o.querySelector("[data-field='costs_adminSum']").innerText="$"+s.costs_adminSum.toFixed(2),l+=s.costs_adminSum,o.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+s.costs_prizesAwardedSum.toFixed(2),u+=s.costs_prizesAwardedSum,o.querySelector("[data-field='costs_netProceedsSum']").innerHTML=a(s.costs_netProceedsSum),m+=s.costs_netProceedsSum,o.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+s.costs_amountDonatedSum.toFixed(2),S+=s.costs_amountDonatedSum,o.querySelector("[data-field='licenceFeeSum']").innerText="$"+s.licenceFeeSum.toFixed(2),y+=s.licenceFeeSum,o.classList.remove("is-hidden")}s.querySelector("[data-field='licenceCount']").innerText=r.toString(),s.querySelector("[data-field='eventCount']").innerHTML=(d===i?"":'<span class="has-text-danger" data-tooltip="Events Unreported">')+d+"/"+i+(d===i?"":"</span>"),s.querySelector("[data-field='costs_receiptsSum']").innerText="$"+c.toFixed(2),s.querySelector("[data-field='costs_adminSum']").innerText="$"+l.toFixed(2),s.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$"+u.toFixed(2),s.querySelector("[data-field='costs_netProceedsSum']").innerHTML=a(m),s.querySelector("[data-field='costs_amountDonatedSum']").innerText="$"+S.toFixed(2),s.querySelector("[data-field='licenceFeeSum']").innerText="$"+y.toFixed(2),t.classList.remove("has-status-loading"),t.classList.add("has-status-view")})}llm.initializeDateRangeSelector(document.querySelector(".is-date-range-selector[data-field-key='eventDate']"),o),o()}();