(function(){function f(){d.classList.remove("has-status-view");d.classList.add("has-status-loading");cityssm.postJSON("/events/doGetFinancialSummary",t,function(f){for(var g=k.children,e=0;e<g.length;e+=1)g[e].classList.add("is-hidden");for(var l=e=g=0,m=0,n=0,p=0,q=0,r=0,h=0;h<f.length;h+=1){var a=f[h],b=k.querySelector("tr[data-licence-type-key='"+a.licenceTypeKey+"']");b.querySelector("[data-field='licenceCount']").innerText=a.licenceCount;g+=a.licenceCount;b.querySelector("[data-field='costs_receiptsSum']").innerText=
"$ "+a.costs_receiptsSum.toFixed(2);e+=a.costs_receiptsSum;b.querySelector("[data-field='costs_adminSum']").innerText="$ "+a.costs_adminSum.toFixed(2);l+=a.costs_adminSum;b.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$ "+a.costs_prizesAwardedSum.toFixed(2);m+=a.costs_prizesAwardedSum;b.querySelector("[data-field='costs_charitableDonationsSum']").innerText="$ "+a.costs_charitableDonationsSum.toFixed(2);n+=a.costs_charitableDonationsSum;b.querySelector("[data-field='costs_netProceedsSum']").innerText=
"$ "+a.costs_netProceedsSum.toFixed(2);p+=a.costs_netProceedsSum;b.querySelector("[data-field='costs_amountDonatedSum']").innerText="$ "+a.costs_amountDonatedSum.toFixed(2);q+=a.costs_amountDonatedSum;b.querySelector("[data-field='licenceFeeSum']").innerText="$ "+a.licenceFeeSum.toFixed(2);r+=a.licenceFeeSum;b.classList.remove("is-hidden")}c.querySelector("[data-field='licenceCount']").innerText=g;c.querySelector("[data-field='costs_receiptsSum']").innerText="$ "+e.toFixed(2);c.querySelector("[data-field='costs_adminSum']").innerText=
"$ "+l.toFixed(2);c.querySelector("[data-field='costs_prizesAwardedSum']").innerText="$ "+m.toFixed(2);c.querySelector("[data-field='costs_charitableDonationsSum']").innerText="$ "+n.toFixed(2);c.querySelector("[data-field='costs_netProceedsSum']").innerText="$ "+p.toFixed(2);c.querySelector("[data-field='costs_amountDonatedSum']").innerText="$ "+q.toFixed(2);c.querySelector("[data-field='licenceFeeSum']").innerText="$ "+r.toFixed(2);d.classList.remove("has-status-loading");d.classList.add("has-status-view")})}
var t=document.getElementById("form--financialSummary"),d=document.getElementById("table--financialSummary"),k=d.getElementsByTagName("tbody")[0],c=d.getElementsByTagName("tfoot")[0];llm.initializeDateRangeSelector(document.querySelector(".is-date-range-selector[data-field-key='eventDate']"),f);f()})();
