(function(){llm.initializeTabs(document.getElementById("tabs--organization"));llm.initializeTabs(document.getElementById("tabs--licences"));var d=document.getElementById("container--remarks");if("true"===document.getElementsByTagName("main")[0].getAttribute("data-can-create")){var h=d.getAttribute("data-organization-id"),k,l=function(a){a=a.currentTarget.getAttribute("data-remark-index");llm.organizationRemarks.openEditRemarkModal(h,a,k)},m=function(a){a=a.currentTarget.getAttribute("data-remark-index");
llm.organizationRemarks.deleteRemark(h,a,!0,k)};k=function(){llm.organizationRemarks.getRemarksByOrganizationID(h,function(a){llm.clearElement(d);if(0===a.length)d.innerHTML='<div class="panel-block"><div class="message is-info"><p class="message-body">There are no remarks associated with this organization.</p></div></div>';else{for(var b=0;b<a.length;b+=1){var c=a[b];d.insertAdjacentHTML("beforeend",'<div class="panel-block is-block"><div class="columns is-mobile"><div class="column is-narrow">'+
(c.isImportant?'<i class="fas fa-fw fa-star" aria-hidden="true"></i>':'<i class="far fa-fw fa-comment" aria-hidden="true"></i>')+'</div><div class="column"><p class="has-newline-chars">'+llm.escapeHTML(c.remark)+'</p><p class="is-size-7">'+c.recordUpdate_userName+" - "+c.remarkDateString+" "+c.remarkTimeString+"</p></div>"+(c.canUpdate?'<div class="column is-narrow"><div class="buttons is-right has-addons"><button class="button is-small is-edit-remark-button" data-remark-index="'+c.remarkIndex+'" type="button"><span class="icon is-small"><i class="fas fa-pencil-alt" aria-hidden="true"></i></span><span>Edit</span></button><button class="button is-small has-text-danger is-delete-remark-button" data-remark-index="'+
c.remarkIndex+'" type="button"><i class="fas fa-trash" aria-hidden="true"></i><span class="sr-only">Delete</span></button></div></div>':"")+"</div></div>")}a=d.getElementsByClassName("is-edit-remark-button");for(b=0;b<a.length;b+=1)a[b].addEventListener("click",l);a=d.getElementsByClassName("is-delete-remark-button");for(b=0;b<a.length;b+=1)a[b].addEventListener("click",m)}})};document.getElementsByClassName("is-add-remark-button")[0].addEventListener("click",function(a){a.preventDefault();llm.organizationRemarks.openAddRemarkModal(h,
k)});for(var e=d.getElementsByClassName("is-edit-remark-button"),f=0;f<e.length;f+=1)e[f].addEventListener("click",l);e=d.getElementsByClassName("is-delete-remark-button");for(f=0;f<e.length;f+=1)e[f].addEventListener("click",m)}if(e=document.getElementById("remark--searchStr")){e.value="";var n=document.getElementById("remark--displayCount"),g=d.getElementsByClassName("is-remark-block");e.addEventListener("keyup",function(a){a=a.currentTarget.value.trim().toLowerCase().split(" ");for(var b=g.length,
c=0;c<g.length;c+=1){for(var d=g[c].getElementsByClassName("is-remark")[0].innerText.trim().toLowerCase(),e=!0,f=0;f<a.length;f+=1)if(-1===d.indexOf(a[f])){e=!1;--b;break}e?g[c].classList.remove("is-hidden"):g[c].classList.add("is-hidden")}n.innerText=b})}})();
