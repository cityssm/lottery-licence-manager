"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{let e="";const t=document.getElementById("form--activeSummary"),a=document.getElementById("container--activeSummary"),n=()=>{a.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading licences...</em></p>',cityssm.postJSON("/licences/doGetActiveLicenceSummary",t,t=>{if(0===t.length)return void(a.innerHTML='<div class="message is-info"><p class="message-body">There are no active licences on the selected time range.</p></div>');const n=document.createElement("table");n.className="table is-striped is-hoverable is-fullwidth",n.innerHTML="<thead><tr><th>"+e+"</th><th>Licence Type</th><th>Organization</th><th>Location</th><th>Issue Date</th><th>Licence Start Date</th><th>Licence End Date</th></tr></thead>";const i=document.createElement("tbody");for(const e of t){const t=document.createElement("tr");t.innerHTML='<td><a href="/licences/'+e.licenceID+'" data-tooltip="View Licence">'+cityssm.escapeHTML(e.externalLicenceNumber)+"<br /><small>Licence #"+e.licenceID+"</small></a></td><td>"+(exports.config_licenceTypes[e.licenceTypeKey]||e.licenceTypeKey)+'</td><td><a href="/organizations/'+e.organizationID+'" data-tooltip="View Organization">'+cityssm.escapeHTML(e.organizationName)+'</a></td><td><a href="/locations/'+e.locationID+'" data-tooltip="View Location">'+cityssm.escapeHTML(e.locationDisplayName)+"</a>"+(e.locationDisplayName===e.locationName?"<br /><small>"+cityssm.escapeHTML(e.locationAddress1)+"</small>":"")+'</td><td class="is-nowrap">'+e.issueDateString+'</td><td class="is-nowrap"><span class="icon"><i class="fas fa-play" aria-hidden="true"></i></span> '+e.startDateString+'</td><td class="is-nowrap"><span class="icon"><i class="fas fa-stop" aria-hidden="true"></i></span> '+e.endDateString+"</td>",i.insertAdjacentElement("beforeend",t)}n.insertAdjacentElement("beforeend",i),cityssm.clearElement(a),a.insertAdjacentElement("beforeend",n)})};llm.initializeDateRangeSelector(document.querySelector(".is-date-range-selector[data-field-key='startEndDate']"),n),llm.getDefaultConfigProperty("externalLicenceNumber_fieldLabel",t=>{e=t,n()})})();