(function(){function e(a){a.preventDefault();window.fetch("/admin/doUpdateUser",{method:"POST",credentials:"include",body:new URLSearchParams(new FormData(a.currentTarget))}).then(function(a){return a.json()}).then(function(a){a.success?window.llm.alertModal("User Updated Successfully","","OK","success"):window.llm.alertModal("User Not Updated","Please try again.","OK","danger")})}function f(a){var b=a.currentTarget.closest(".panel-block").getAttribute("data-user-name");window.llm.confirmModal("Reset Password?",
'Are you sure you want to reset the password for "'+b+'"?',"Yes, Reset","warning",function(){window.fetch("/admin/doResetPassword",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:b})}).then(function(a){return a.json()}).then(function(a){a.success?window.llm.alertModal("Password Reset Successfully",'<p>The password for "'+b+'" has been reset to <strong>'+a.newPassword+"</strong>.</p>","OK","success"):window.llm.alertModal("Password Not Updated",
"Please try again.","OK","danger")})})}var d=document.getElementsByClassName("is-create-user-modal")[0];d.getElementsByTagName("form")[0].addEventListener("submit",function(a){a.preventDefault()});document.getElementsByClassName("is-create-user-button")[0].addEventListener("click",function(){window.llm.showModal(d)});for(var b=document.getElementById("container--users"),a=b.getElementsByClassName("form--user"),c=0;c<a.length;c+=1)a[c].addEventListener("submit",e);b=b.getElementsByClassName("is-password-reset-button");
for(a=0;a<b.length;a+=1)b[a].addEventListener("click",f)})();
