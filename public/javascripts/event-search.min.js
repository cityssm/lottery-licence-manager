"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=document.getElementById("filter--externalLicenceNumber"),t=document.getElementById("filter--licenceTypeKey"),n=document.getElementById("filter--year"),a=document.getElementById("container--events");function i(){a.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading events...</p>',cityssm.postJSON("/events/doSearch",{externalLicenceNumber:e.value,licenceTypeKey:t.value,eventYear:n.value},function(e){if(0!==e.length){for(var t=document.createElement("tbody"),n=0;n<e.length;n+=1){var i=e[n],s=exports.config_licenceTypes[i.licenceTypeKey]||i.licenceTypeKey,c="/events/"+i.licenceID+"/"+i.eventDate,l=document.createElement("tr");l.innerHTML='<td><a href="'+c+'">'+i.eventDateString+"</a></td><td>"+cityssm.escapeHTML(i.externalLicenceNumber)+"<br /><small>Licence #"+i.licenceID+"</small></td><td>"+cityssm.escapeHTML(i.organizationName)+"</td><td>"+s+"<br /><small>"+cityssm.escapeHTML(i.licenceDetails)+"</small></td><td>"+cityssm.escapeHTML(i.locationDisplayName)+"<br /><small>"+i.startTimeString+(i.startTimeString===i.endTimeString?"":" to "+i.endTimeString)+'</small></td><td class="is-hidden-print has-text-right">'+(i.canUpdate?'<a class="button is-small" href="'+c+'/edit"><span class="icon"><i class="fas fa-pencil-alt" aria-hidden="true"></i></span><span>Edit</span></a>':"")+"</td>",t.appendChild(l)}cityssm.clearElement(a);var r=document.createElement("table");r.className="table is-fullwidth is-striped is-hoverable",r.innerHTML="<thead><tr><th>Event Date</th><th>Licence</th><th>Organization</th><th>Licence Type</th><th>Location</th><th></th></tr></thead>",r.appendChild(t),a.appendChild(r)}else a.innerHTML='<div class="message is-info"><div class="message-body">Your search returned no results.</div></div>'})}e.addEventListener("change",i),t.addEventListener("change",i),n.addEventListener("change",i),i()}();