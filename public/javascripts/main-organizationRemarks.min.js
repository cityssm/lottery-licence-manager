"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),llm.organizationRemarks=(()=>{const e=document.querySelector("main").dataset.urlPrefix,r=(r,t,o)=>{cityssm.postJSON(e+"/organizations/doGetRemark",{organizationID:r,remarkIndex:t},o)},t=(r,t,o)=>{cityssm.postJSON(e+"/organizations/doDeleteRemark",{organizationID:r,remarkIndex:t},o)};return{getRemarksByOrganizationID:(r,t)=>{cityssm.postJSON(e+"/organizations/doGetRemarks",{organizationID:r},t)},getRemarkByID:r,openAddRemarkModal:(r,t)=>{let o;const a=r=>{r.preventDefault(),((r,t)=>{cityssm.postJSON(e+"/organizations/doAddRemark",r,t)})(r.currentTarget,()=>{o(),t&&t()})};cityssm.openHtmlModal("remarkAdd",{onshown(e,t){document.querySelector("#addRemark--organizationID").value=r.toString(),document.querySelector("#addRemark--remark").focus(),e.querySelector("form").addEventListener("submit",a),o=t}})},openEditRemarkModal:(t,o,a)=>{let n;const m=r=>{r.preventDefault(),((r,t)=>{cityssm.postJSON(e+"/organizations/doEditRemark",r,t)})(r.currentTarget,()=>{n(),a&&a()})};cityssm.openHtmlModal("remarkEdit",{onshow(e){document.querySelector("#editRemark--organizationID").value=t.toString(),document.querySelector("#editRemark--remarkIndex").value=o.toString(),r(t,o,e=>{const r=document.querySelector("#editRemark--remark");r.value=e.remark,r.removeAttribute("placeholder"),document.querySelector("#editRemark--remarkDateString").value=e.remarkDateString,document.querySelector("#editRemark--remarkTimeString").value=e.remarkTimeString,e.isImportant&&document.querySelector("#editRemark--isImportant").setAttribute("checked","checked")}),e.querySelector("form").addEventListener("submit",m)},onshown(e,r){n=r,document.querySelector("#editRemark--remark").focus()}})},deleteRemark:(e,r,o,a)=>{o?cityssm.confirmModal("Delete Remark?","Are you sure you want to delete this remark?","Yes, Delete","danger",()=>{t(e,r,a)}):t(e,r,a)}}})();