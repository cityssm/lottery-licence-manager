llm.organizationRemarks=function(){function f(a,b,c){cityssm.postJSON("/organizations/doGetRemark",{organizationID:a,remarkIndex:b},c)}function g(a,b){cityssm.postJSON("/organizations/doAddRemark",a,b)}function h(a,b){cityssm.postJSON("/organizations/doEditRemark",a,b)}function e(a,b,c){cityssm.postJSON("/organizations/doDeleteRemark",{organizationID:a,remarkIndex:b},c)}return{getRemarksByOrganizationID:function(a,b){cityssm.postJSON("/organizations/doGetRemarks",{organizationID:a},b)},getRemarkByID:f,
openAddRemarkModal:function(a,b){var c,d=function(a){a.preventDefault();g(a.currentTarget,function(){c();b&&b()})};cityssm.openHtmlModal("remarkAdd",{onshown:function(b,k){document.getElementById("addRemark--organizationID").value=a;document.getElementById("addRemark--remark").focus();b.getElementsByTagName("form")[0].addEventListener("submit",d);c=k}})},openEditRemarkModal:function(a,b,c){var d,e=function(a){a.preventDefault();h(a.currentTarget,function(){d();c&&c()})};cityssm.openHtmlModal("remarkEdit",
{onshow:function(c){document.getElementById("editRemark--organizationID").value=a;document.getElementById("editRemark--remarkIndex").value=b;f(a,b,function(a){var b=document.getElementById("editRemark--remark");b.value=a.remark;b.removeAttribute("placeholder");document.getElementById("editRemark--remarkDateString").value=a.remarkDateString;document.getElementById("editRemark--remarkTimeString").value=a.remarkTimeString;a.isImportant&&document.getElementById("editRemark--isImportant").setAttribute("checked",
"checked")});c.getElementsByTagName("form")[0].addEventListener("submit",e)},onshown:function(a,b){d=b;document.getElementById("editRemark--remark").focus()}})},deleteRemark:function(a,b,c,d){c?llm.confirmModal("Delete Remark?","Are you sure you want to delete this remark?","Yes, Delete","danger",function(){e(a,b,d)}):e(a,b,d)}}}();
