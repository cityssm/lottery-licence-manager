(function(){function g(){llm.enableNavBlocker();e.setAttribute("disabled","disabled");b.innerHTML='<span class="tag is-light is-info is-medium"><span class="icon"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i></span> <span>Unsaved Changes</span></div>'}var e=document.getElementById("eventNav--eventDate"),c=document.getElementById("form--event"),b=document.getElementById("container--form-message"),f=document.getElementById("event--licenceID").value,h=document.getElementById("event--eventDate").value;
c.addEventListener("submit",function(a){a.preventDefault();b.innerHTML='Saving... <i class="fas fa-circle-notch fa-spin" aria-hidden="true"></i>';llm.postJSON("/events/doSave",c,function(a){a.success&&(llm.disableNavBlocker(),e.removeAttribute("disabled"));b.innerHTML="";llm.alertModal(a.message,"","OK",a.success?"success":"danger")})});document.getElementById("is-delete-event-button").addEventListener("click",function(a){a.preventDefault();llm.confirmModal("Delete Event?","Are you sure you want to delete this event?",
"Yes, Delete","danger",function(){llm.postJSON("/events/doDelete",{licenceID:f,eventDate:h},function(a){a.success&&(llm.disableNavBlocker(),window.location.href="/licences/"+f)})})});for(var d=c.querySelectorAll("input, select, textarea"),a=0;a<d.length;a+=1)""!==d[a].name&&d[a].addEventListener("change",g)})();
