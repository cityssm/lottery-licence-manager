(function(){function h(){llm.enableNavBlocker();f.setAttribute("disabled","disabled");c.innerHTML='<span class="tag is-light is-info is-medium"><span class="icon"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i></span> <span>Unsaved Changes</span></div>'}var f=document.getElementById("eventNav--eventDate"),d=document.getElementById("form--event"),c=document.getElementById("container--form-message"),g=document.getElementById("event--licenceID").value,k=document.getElementById("event--eventDate").value;
d.addEventListener("submit",function(b){b.preventDefault();c.innerHTML='Saving... <i class="fas fa-circle-notch fa-spin" aria-hidden="true"></i>';window.fetch("/events/doSave",{method:"POST",credentials:"include",body:new URLSearchParams(new FormData(d))}).then(function(a){return a.json()}).then(function(a){a.success&&(llm.disableNavBlocker(),f.removeAttribute("disabled"));c.innerHTML="";llm.alertModal(a.message,"","OK",a.success?"success":"danger")})});document.getElementById("is-delete-event-button").addEventListener("click",
function(b){b.preventDefault();llm.confirmModal("Delete Event?","Are you sure you want to delete this event?","Yes, Delete","danger",function(){window.fetch("/events/doDelete",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({licenceID:g,eventDate:k})}).then(function(a){return a.json()}).then(function(a){a.success&&(llm.disableNavBlocker(),window.location.href="/licences/"+g)})})});for(var e=d.querySelectorAll("input, select, textarea"),b=0;b<e.length;b+=
1)""!==e[b].name&&e[b].addEventListener("change",h)})();
