(function(){function q(a){a.preventDefault();a=a.currentTarget;document.getElementById("licence--organizationID").value=a.getAttribute("data-organization-id");document.getElementById("licence--organizationName").value=a.getAttribute("data-organization-name");window.llm.hideModal(a)}function m(){var a=document.createElement("div");a.className="list is-hoverable";for(var b=k.value.trim().toLowerCase().split(" "),d=10,e=0;e<g.length&&0<d;e+=1){for(var c=!0,h=g[e],f=h.OrganizationName.toLowerCase(),l=
0;l<b.length;l+=1)if(-1===f.indexOf(b[l])){c=!1;break}c&&(--d,c=document.createElement("a"),c.className="list-item",c.setAttribute("data-organization-id",h.OrganizationID),c.setAttribute("data-organization-name",h.OrganizationName),c.innerText=h.OrganizationName,c.addEventListener("click",q),a.insertAdjacentElement("beforeend",c))}window.llm.clearElement(n);n.insertAdjacentElement("beforeend",a)}var g=[],p=document.getElementsByClassName("is-organization-lookup-modal")[0],k=document.getElementById("organizationLookup--searchStr"),
n=document.getElementById("container--organizationLookup");k.addEventListener("keyup",m);document.getElementsByClassName("is-organization-lookup-button")[0].addEventListener("click",function(){0===g.length&&window.fetch("/organizations/doGetAll",{method:"get",credentials:"include"}).then(function(a){return a.json()}).then(function(a){g=a;k.removeAttribute("disabled");m()});window.llm.showModal(p)});for(var e=p.getElementsByClassName("is-cancel-button"),f=0;f<e.length;f+=1)e[f].addEventListener("click",
window.llm.hideModal);bulmaCalendar.attach("[type='date']",window.llm.bulmaCalendarOptions);window.llm.fixBulmaCalendars();bulmaCalendar.attach("[type='time']",window.llm.bulmaTimeOptions);window.llm.fixBulmaTimes();var e=document.getElementById("licence--licenceTypeKey"),d=document.getElementsByClassName("container-licenceTypeFields");e.addEventListener("change",function(a){a="container-licenceTypeFields--"+a.currentTarget.value;for(var b=0;b<d.length;b+=1)d[b].id===a?(d[b].removeAttribute("disabled"),
d[b].classList.remove("is-hidden")):(d[b].classList.add("is-hidden"),d[b].setAttribute("disabled","disabled"))})})();
