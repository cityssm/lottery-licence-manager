(function(){function e(){llm.clearElement(f);f.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading report...</em></p>';llm.postJSON("/licences/doGetLicenceTypeSummary",g,function(c){llm.clearElement(f);if(0===c.length)f.innerHTML='<div class="message is-info"><p class="message-body">There are no licences available that meet your search criteria.</p></div>';else{var h=document.createElement("table");h.className=
"table is-fullwidth";h.innerHTML="<thead><tr><th>Application Date</th><th>Issue Date</th><th>"+m+'</th><th>Organization</th><th>Location</th><th class="has-text-right">Prize Value</th><th class="has-text-right">Licence Fee</th></tr></thead>';for(var k=document.createElement("tbody"),d=0,e=0,g=0,l=0;l<c.length;l+=1){var a=c[l],b=document.createElement("tr");b.insertAdjacentHTML("beforeend","<td>"+a.applicationDateString+"</td>");b.insertAdjacentHTML("beforeend","<td>"+a.issueDateString+"</td>");b.insertAdjacentHTML("beforeend",
'<td><a href="/licences/'+a.licenceID+'">'+llm.escapeHTML(a.externalLicenceNumber)+"<br /><small>Licence #"+a.licenceID+"</small></a></td>");b.insertAdjacentHTML("beforeend","<td>"+llm.escapeHTML(a.organizationName)+"</td>");b.insertAdjacentHTML("beforeend","<td>"+llm.escapeHTML(a.locationDisplayName)+"</td>");b.insertAdjacentHTML("beforeend",'<td class="is-nowrap has-text-right">$ '+a.totalPrizeValue.toFixed(2)+"</td>");b.insertAdjacentHTML("beforeend",'<td class="is-nowrap has-text-right">$ '+a.licenceFee.toFixed(2)+
"</td>");k.insertAdjacentElement("beforeend",b);a.issueDate&&0<a.issueDate&&(d+=1);e+=a.totalPrizeValue;g+=a.licenceFee}h.insertAdjacentElement("beforeend",k);k=document.createElement("tfoot");k.innerHTML="<tr><th>"+c.length+" licence"+(1===c.length?"":"s")+"</th><th>"+d+' issued</th><td></td><td></td><td></td><th class="is-nowrap has-text-right">$ '+e.toFixed(2)+'</th><th class="is-nowrap has-text-right">$ '+g.toFixed(2)+"</th></tr>";h.insertAdjacentElement("beforeend",k);f.insertAdjacentElement("beforeend",
h)}})}var g=document.getElementById("form--licenceTypes"),f=document.getElementById("container--licenceTypes"),m="";llm.getDefaultConfigProperty("externalLicenceNumber_fieldLabel",function(c){m=c;e()});for(var n=g.querySelectorAll("input, select"),d=0;d<n.length;d+=1)n[d].addEventListener("change",e)})();
