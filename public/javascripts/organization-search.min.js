(function(){function h(){b.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading organizations...</p>';window.fetch("/organizations/doSearch",{method:"post",credentials:"include",body:new URLSearchParams(new FormData(c))}).then(function(d){return d.json()}).then(function(d){if(0===d.length)b.innerHTML='<div class="message is-info"><div class="message-body"><strong>Your search returned no results.</strong><br />Please try expanding your search criteria.</div></div>';
else{b.innerHTML='<table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>Organization Name</th><th><span class="sr-only">Options</span></th></tr></thead><tbody></tbody></table>';for(var c=b.getElementsByTagName("tbody")[0],a=0;a<d.length;a+=1){var e=d[a],f=document.createElement("tr");f.innerHTML="<td></td>";var g=document.createElement("a");g.innerText=e.OrganizationName;g.href="/organizations/"+e.OrganizationID;f.getElementsByTagName("td")[0].insertAdjacentElement("beforeend",
g);f.insertAdjacentHTML("beforeend",'<td class="has-text-right">'+(l?'<a class="button is-small" data-tooltip="Edit Organization" href="/organizations/'+e.OrganizationID+'/edit"><span class="icon"><i class="fas fa-pencil-alt" aria-hidden="true"></i></span><span>Edit</span></a> <a class="button is-small" data-tooltip="Create a New Licence" href="/licences/new/'+e.OrganizationID+'"><span class="icon"><i class="fas fa-certificate" aria-hidden="true"></i></span><span>New</span></a>':"")+"</td>");c.insertAdjacentElement("beforeend",
f)}}})}var c=document.getElementById("form--filters"),b=document.getElementById("container--searchResults"),l="true"===b.getAttribute("data-can-update");c.addEventListener("submit",function(a){a.preventDefault()});for(var k=c.getElementsByTagName("input"),a=0;a<k.length;a+=1)k[a].addEventListener("change",h);h()})();
