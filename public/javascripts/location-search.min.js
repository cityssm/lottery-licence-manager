(function(){function e(){if(0===f.length)g.innerHTML='<div class="message is-info"><div class="message-body"><strong>There are no locations on record.</strong></div></div>';else{var a=50;g.innerHTML='<table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>Location</th><th>Address</th></tr></thead><tbody></tbody></table>';for(var e=g.getElementsByTagName("tbody")[0],h=0;h<f.length;h+=1){for(var b=f[h],d=!0,c=m.value.trim().toLowerCase().split(" "),k=0;k<c.length;k+=1){var l=c[k];if(-1===
b.locationName.toLowerCase().indexOf(l)&&-1===b.locationAddress1.toLowerCase().indexOf(l)&&-1===b.locationAddress2.toLowerCase().indexOf(l)){d=!1;break}}if(d&&(--a,d=document.createElement("tr"),d.innerHTML="<td></td>",c=document.createElement("a"),c.innerText=""===b.locationName?b.locationAddress1:b.locationName,c.href="/locations/"+b.locationID,d.getElementsByTagName("td")[0].insertAdjacentElement("beforeend",c),e.insertAdjacentElement("beforeend",d),c=document.createElement("td"),c.innerHTML=window.llm.escapeHTML(b.locationAddress1)+
"<br /><small>"+window.llm.escapeHTML(b.locationAddress2)+"</small>",d.insertAdjacentElement("beforeend",c),0===a))break}0===a&&g.insertAdjacentHTML("beforeend",'<div class="message is-warning"><p class="message-body">Display Limit Reached</p></div>')}}var m=document.getElementById("filter--locationNameAddress"),g=document.getElementById("container--searchResults"),f=[];window.fetch("/locations/doGetLocations",{method:"POST",credentials:"include"}).then(function(a){return a.json()}).then(function(a){f=
a;e()});document.getElementById("form--filters").addEventListener("submit",function(a){a.preventDefault()});m.addEventListener("keyup",e)})();
