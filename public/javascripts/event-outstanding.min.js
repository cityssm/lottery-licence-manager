(function(){function c(){cityssm.clearElement(d);cityssm.postJSON("/events/doGetOutstandingEvents",g,function(c){for(var f=-1,e=0;e<c.length;e+=1){var a=c[e];f!==a.organizationID&&(f=a.organizationID,d.insertAdjacentHTML("beforeend",'<tr><th class="has-background-grey-lighter" colspan="9"><h2 class="title is-4">'+cityssm.escapeHTML(a.organizationName)+"</h2></th></tr>"));var b=document.createElement("tr");b.insertAdjacentHTML("beforeend",'<td><a href="/licences/'+a.licenceID+'" data-tooltip="View Licence" target="_blank">'+
a.externalLicenceNumber+"<br / > <small>Licence #"+a.licenceID+"</small></a></td>");b.insertAdjacentHTML("beforeend","<td>"+cityssm.escapeHTML(a.licenceType)+"</td>");b.insertAdjacentHTML("beforeend",'<td><a href="/events/'+a.licenceID+"/"+a.eventDate+'" data-tooltip="View Event" target="_blank">'+a.eventDateString+"</a></td>");b.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(null===a.reportDate||0===a.reportDate?'<span class="icon" data-tooltip="Report Date Not Recorded"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Report Date Not Recorded</span>':
a.reportDateString)+"</td>");b.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(a.bank_name_isOutstanding?'<span class="icon" data-tooltip="Banking Information Outstanding"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Banking Information Outstanding</span>':'<span class="icon" data-tooltip="Banking Information Recorded"><i class="fas fa-check has-text-success" aria-hidden="true"></i></span><span class="sr-only">Banking Information Recorded</span>')+
"</td>");b.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(null===a.costs_receipts||0===a.costs_receipts?'<span class="icon" data-tooltip="Receipts Amount Outstanding"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Receipts Amount Outstanding</span>':'<span class="icon" data-tooltip="Receipts Amount Recorded"><i class="fas fa-check has-text-success" aria-hidden="true"></i></span><span class="sr-only">Receipts Amount Recorded</span>')+"</td>");
d.insertAdjacentElement("beforeend",b)}})}var g=document.getElementById("form--outstandingEvents"),d=document.getElementById("tbody--outstandingEvents");c();document.getElementById("filter--licenceTypeKey").addEventListener("change",c);document.getElementById("filter--eventDateType").addEventListener("change",c)})();
