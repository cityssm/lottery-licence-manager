"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=document.getElementsByTagName("main")[0].getAttribute("data-url-prefix"),t=document.getElementById("form--outstandingEvents"),n=document.getElementById("tbody--outstandingEvents"),a=()=>{cityssm.clearElement(n),cityssm.postJSON(e+"/events/doGetOutstandingEvents",t,e=>{let t=-1;for(const a of e){t!==a.organizationID&&(t=a.organizationID,n.insertAdjacentHTML("beforeend",'<tr><th class="has-background-grey-lighter" colspan="9"><h2 class="title is-4">'+cityssm.escapeHTML(a.organizationName)+"</h2></th></tr>"));const e=document.createElement("tr");e.insertAdjacentHTML("beforeend",'<td><a href="/licences/'+a.licenceID.toString()+'" data-tooltip="View Licence" target="_blank">'+a.externalLicenceNumber+"<br / > <small>Licence #"+a.licenceID.toString()+"</small></a></td>"),e.insertAdjacentHTML("beforeend",`<td>${cityssm.escapeHTML(a.licenceType)}</td>`);const s="/events/"+a.licenceID.toString()+"/"+a.eventDate.toString();e.insertAdjacentHTML("beforeend",`<td>\n          <a href="${s}" data-tooltip="View Event" target="_blank">\n          ${a.eventDateString}\n          </a>\n          </td>`),e.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(null===a.reportDate||0===a.reportDate?'<span class="icon" data-tooltip="Report Date Not Recorded"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Report Date Not Recorded</span>':a.reportDateString)+"</td>"),e.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(a.bank_name_isOutstanding?'<span class="icon" data-tooltip="Banking Information Outstanding"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Banking Information Outstanding</span>':'<span class="icon" data-tooltip="Banking Information Recorded"><i class="fas fa-check has-text-success" aria-hidden="true"></i></span><span class="sr-only">Banking Information Recorded</span>')+"</td>"),e.insertAdjacentHTML("beforeend",'<td class="has-text-centered">'+(null===a.costs_receipts||0===a.costs_receipts?'<span class="icon" data-tooltip="Receipts Amount Outstanding"><i class="fas fa-times has-text-danger" aria-hidden="true"></i></span><span class="sr-only">Receipts Amount Outstanding</span>':'<span class="icon" data-tooltip="Receipts Amount Recorded"><i class="fas fa-check has-text-success" aria-hidden="true"></i></span><span class="sr-only">Receipts Amount Recorded</span>')+"</td>"),n.insertAdjacentElement("beforeend",e)}})};document.getElementById("filter--licenceTypeKey").addEventListener("change",a),document.getElementById("filter--eventDateType").addEventListener("change",a),a()})();